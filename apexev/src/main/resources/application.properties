spring.application.name=apexev
# Đặt 'dev' làm profile mặc định khi chạy local
# Nếu thay đổi môi trường thì thay ở đây dev -> prod
spring.profiles.active=dev

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
spring.datasource.url=jdbc:mysql://localhost:3306/apexev?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=trungnhanC2@
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==========================================
# JPA/HIBERNATE CONFIGURATION
# ==========================================
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}
spring.jpa.show-sql=${SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# ==========================================
# JWT CONFIGURATION
# ==========================================
com.apexev.jwtSecret=${JWT_SECRET:HanhTrinhLenMayCungFCJ123456789012}
com.apexev.jwtExpirationMs=${JWT_EXPIRATION_MS:86400000}
com.apexev.jwtRefreshExpirationMs=${JWT_REFRESH_EXPIRATION_MS:604800000}

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:INFO}

# ==========================================
# OPENAPI/SWAGGER CONFIGURATION
# ==========================================
open.api.title=${API_TITLE:ApexEV API}
open.api.version=${API_VERSION:1.0.0}
open.api.description=${API_DESCRIPTION:ApexEV Garage Management System API}
open.api.serverUrl=${API_SERVER_URL:http://localhost:8081}
open.api.serverName=${API_SERVER_NAME:Local Development Server}

# ==========================================
# SERVER CONFIGURATION
# ==========================================
server.port=${SERVER_PORT:8081}

# ==========================================
# FILE UPLOAD CONFIGURATION
# ==========================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:10MB}

# ==========================================
# MAIL CONFIGURATION
# ==========================================
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:apexevcompany@gmail.com}
spring.mail.password=${MAIL_PASSWORD:ndxxxdhertvngqja}
spring.mail.from=${MAIL_FROM:dinhphat@gmail.com}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.properties.mail.smtp.ssl.trust=*
# ==========================================

# ==========================================
# ACTUATOR CONFIGURATION (Health Check for AWS ALB)
# ==========================================
# Expose health, info, and metrics endpoints
management.endpoints.web.exposure.include=${ACTUATOR_ENDPOINTS:health,info,metrics}
# Show health details only when user is authorized
management.endpoint.health.show-details=${HEALTH_SHOW_DETAILS:when-authorized}
# Enable default health indicators (db, diskSpace, ping)
management.health.defaults.enabled=true
# Enable environment info in /actuator/info
management.info.env.enabled=true
# Custom application info
info.app.name=ApexEV Garage Management System
info.app.description=Backend API for ApexEV garage management
info.app.version=@project.version@
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@
# ==========================================
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:10MB}

# ==========================================
# AWS CREDENTIALS
# ==========================================
aws.access-key-id=${AWS_ACCESS_KEY_ID:your_aws_access_key_id}
aws.secret-access-key=${AWS_SECRET_ACCESS_KEY:your_aws_secret_access_key}

# ==========================================
# AWS S3 CONFIGURATION
# ==========================================
aws.s3.region=${AWS_REGION:ap-southeast-1}
aws.s3.bucket-name=${AWS_S3_BUCKET:apexev-media}

# ==========================================
# AWS SNS CONFIGURATION (Email Events)
# ==========================================
aws.sns.region=${AWS_REGION:ap-southeast-1}
aws.sns.email-topic-arn=${AWS_SNS_EMAIL_TOPIC_ARN:arn:aws:sns:ap-southeast-1:029930584678:apexev-email-events}

# ==========================================
# APPLICATION CONFIGURATION
# ==========================================
app.appointment-schedule-link=${APPOINTMENT_SCHEDULE_LINK:https://apexev.com/appointments/schedule}
